# LInux

## 系统目录结构

- **/boot：**存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件。

- **/etc：**存放**所有**的系统需要的**配置文件**和**子目录列表，**更改目录下的文件可能会导致系统不能启动。

- **/lib**：存放基本代码库（比如c++库），其作用类似于Windows里的DLL文件。几乎所有的应用程都需要用到这些共享库。

- **/sys**： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中

**指令集合：**

- **/bin：**存放着最常用的程序和指令

- **/sbin：**只有系统管理员能使用的程序和指令。

**外部文件管理：**

- **/dev ：**Device(设备)的缩写, 存放的是Linux的外部设备。**注意：**在Linux中访问设备和访问文件的方式是相同的。

- **/media**：类windows的**其他设备，**例如U盘、光驱等等，识别后linux会把设备放到这个目录下。

- **/mnt**：临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。

**临时文件：**

- **/run**：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。

- **/lost+found**：一般情况下为空的，系统非法关机后，这里就存放一些文件。

- **/tmp**：这个目录是用来存放一些临时文件的。

**账户：**

- **/root**：系统管理员的用户主目录。

- **/home**：用户的主目录，以用户的账号命名的。

- **/usr**：用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。

- **/usr/bin：**系统用户使用的应用程序与指令。

- **/usr/sbin：**超级用户使用的比较高级的管理程序和系统守护程序。

- **/usr/src：**内核源代码默认的放置目录。

**运行过程中要用：**

- **/var**：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）。

- **/proc**：管理**内存空间！**虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改。

**扩展用的：**

- **/opt**：默认是空的，我们安装额外软件可以放在这个里面。

- **/srv**：存放服务启动后需要提取的数据**（不用服务器就是空）**

## 文件与目录管理

### ls

列出目录及文件名

* -a ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)
* -d ：仅列出目录本身，而不是列出目录内的文件数据(常用)
* -l ：长数据串列出，包含文件的属性与权限等等数据；(常用)

### cd 

[相对路径或绝对路径]

切换目录

### pwd  

[-P]

显示目前的目录
-p:显示出确实的路径，而非使用链接路径

### mkdir 

[-mp] 目录名称

创建一个新的目录

* -m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～
* -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！

### rmdir

[-p] 目录名称

删除一个空的目录
-p ：从该目录起，一次删除多级空目录

### cp 

[-adfilprsu]    来源档(source)    目标档(destination)

复制文件或目录

* -a：相当於 -pdr 的意思，至於 pdr 请参考下列说明；(常用)
* -d：若来源档为链接档的属性(link file)，则复制链接档属性而非文件本身；
* -f：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；
* -i：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
* -l：进行硬式链接(hard link)的链接档创建，而非复制文件本身；
* -p：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；
* -r：递归持续复制，用於目录的复制行为；(常用)
* -s：复制成为符号链接档 (symbolic link)，亦即『捷径』文件；
* -u：若 destination 比 source 旧才升级 destination ！

### rm 

[-fir] 文件或目录

删除文件或目录

* -f ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
* -i ：互动模式，在删除前会询问使用者是否动作
* -r ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！

### mv  

[-fiu] source destination

移动文件与目录，或修改文件与目录的名称

* -f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
* -i ：若目标文件 (destination) 已经存在时，就会询问是否覆盖
* -u ：若目标文件已经存在，且 source 比较新，才会升级 (update)

### cat 

[-AbEnTv]

由第一行开始显示文件内容

* -A ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
* -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
* -E ：将结尾的断行字节 $ 显示出来；
* -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
* -T ：将 [tab] 按键以 ^I 显示出来；
* -v ：列出一些看不出来的特殊字符

### tac

从最后一行开始显示，可以看出 tac 是 cat 的倒着写！

### nl 

 [-bnw] 文件

显示的时候，顺道输出行号！

* -b ：指定行号指定的方式，主要有两种：
* -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
* -b t ：如果有空行，空的那一行不要列出行号(默认值)；
* -n ：列出行号表示的方法，主要有三种：
* -n ln ：行号在荧幕的最左方显示；
* -n rn ：行号在自己栏位的最右方显示，且不加 0 ；
* -n rz ：行号在自己栏位的最右方显示，且加 0 ；
* -w ：行号栏位的占用的位数

### more

一页一页的显示文件内容

* 空白键 (space)：代表向下翻一页；
* Enter     ：代表向下翻『一行』；
* /字串     ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；
* :f      ：立刻显示出档名以及目前显示的行数；
* q       ：代表立刻离开 more ，不再显示该文件内容。
* b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。

### less

与 more 类似，但是比 more 更好的是，他可以往前翻页！

* 空白键  ：向下翻动一页；
* [pagedown]：向下翻动一页；
* [pageup] ：向上翻动一页；
* /字串   ：向下搜寻『字串』的功能；
* ?字串   ：向上搜寻『字串』的功能；
* n     ：重复前一个搜寻 (与 / 或 ? 有关！)
* N     ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
* q     ：离开 less 这个程序；

### head 

[-n number] 文件 

只看头几行
-n ：后面接数字，代表显示几行的意思

### tail 

[-n number] 文件

只看尾巴几行

* -n ：后面接数字，代表显示几行的意思
* -f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测

## vi/vim

**vi/vim 的使用**:

基本上 vi/vim 共分为三种模式，分别是**命令模式（Command mode）**，**输入模式（Insert mode）**和**底线命令模式（Last line mode）**。 这三种模式的作用分别是：

**命令模式：**

用户刚刚启动 vi/vim，便进入了命令模式。

此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。

以下是常用的几个命令：

- **i** 切换到输入模式，以输入字符。
- **x** 删除当前光标所在处的字符。
- **:** 切换到底线命令模式，以在最底一行输入命令

**输入模式:**

在命令模式下按下i就进入了输入模式。

在输入模式中，可以使用以下按键：

- **字符按键以及Shift组合**，输入字符
- **ENTER**，回车键，换行
- **BACK SPACE**，退格键，删除光标前一个字符
- **DEL**，删除键，删除光标后一个字符
- **方向键**，在文本中移动光标
- **HOME**/**END**，移动光标到行首/行尾
- **Page Up**/**Page Down**，上/下翻页
- **Insert**，切换光标为输入/替换模式，光标将变成竖线/下划线
- **ESC**，退出输入模式，切换到命令模式

**底线命令模式:**

在命令模式下按下:（英文冒号）就进入了底线命令模式。

底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。

在底线命令模式中，基本的命令有（已经省略了冒号）：

- q 退出程序
- w 保存文件

## yum命令

yum [options] [command] [package ...]

- **options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为 "yes"），-q（不显示安装的过程）等等。
- **command：**要进行的操作。
- **package：**安装的包名。

**yum常用命令：**

1. 列出所有可更新的软件清单命令：**yum check-update**

2. 更新所有软件命令：**yum update**

3.  仅安装指定的软件命令：**yum install <package_name>**

4.  仅更新指定的软件命令：**yum update <package_name>**

5.  列出所有可安裝的软件清单命令：**yum list**

6. 删除软件包命令：**yum remove <package_name>**

7. 查找软件包命令：**yum search <keyword>**

8.  清除缓存命令:

   - **yum clean packages**: 清除缓存目录下的软件包

   - **yum clean headers**: 清除缓存目录下的 headers

   - **yum clean oldheaders**: 清除缓存目录下旧的 headers

   - **yum clean, yum clean all (= yum clean packages; yum clean oldheaders)** :清除缓存目录下的软件包及旧的 headers

## apt命令

apt 命令提供了查找、安装、升级、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。apt 命令执行需要超级管理员权限(root)。

apt [options] [command] [package ...]

- **options：**可选，选项包括 -h（帮助），-y（当安装过程提示选择全部为"yes"），-q（不显示安装的过程）等等。
- **command：**要进行的操作。
- **package**：安装的包名

**apt 常用命令：**

- 列出所有可更新的软件清单命令：**sudo apt update**
- 升级软件包：**sudo apt upgrade**
  列出可更新的软件包及版本信息：**apt list --upgradeable**
  升级软件包，升级前先删除需要更新软件包：**sudo apt full-upgrade**
- 安装指定的软件命令：**sudo apt install <package_name>**
  安装多个软件包：**sudo apt install <package_1> <package_2> <package_3>**
- 更新指定的软件命令：**sudo apt update <package_name>**
- 显示软件包具体信息,例如：版本号，安装大小，依赖关系等等：**sudo apt show <package_name>**
- 删除软件包命令：**sudo apt remove <package_name>**
- 清理不再使用的依赖和库文件: **sudo apt autoremove**
- 移除软件包及配置文件: **sudo apt purge <package_name>**
- 查找软件包命令： **sudo apt search <keyword>**
- 列出所有已安装的包：**apt list --installed**
- 列出所有已安装的包的版本信息：**apt list --all-versions**